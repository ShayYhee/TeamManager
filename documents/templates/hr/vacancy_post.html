{% extends 'base.html' %}
{% block title %}Vacancy - {{ vacancy.title }}{% endblock %}
{% block content %}
<div class="card mb-4 bg-light">
    <div class="card-body d-flex align-items-center">
        {% if vacancy.tenant.company_profile.photo %}
            <img src="{{ vacancy.tenant.company_profile.photo.url }}" alt="{{ vacancy.tenant.name }} Logo" class="img-fluid me-3" style="max-width: 100px; max-height: 100px;">
        {% else %}
            <i class="fas fa-building fa-3x me-3 text-primary"></i>
        {% endif %}
        <div>
            <h3 class="card-title"><i class="fas fa-briefcase"></i> {{ vacancy.tenant.name }}</h3>
            <p class="card-text">
                {% if vacancy.tenant.company_profile.description %}
                    {{ vacancy.tenant.company_profile.description|truncatewords:20 }}
                {% else %}
                    No company description available.
                {% endif %}
            </p>
        </div>
    </div>
</div>
<div class="container mt-5">
    <h2><i class="fas fa-briefcase"></i> {{ vacancy.title }}</h2>
    <p><strong><i class="fas fa-globe"></i> Location:</strong> {{ vacancy.location.name }}</p>
    <p><strong><i class="fas fa-file-alt"></i> Description:</strong> {{ vacancy.description|linebreaks }}</p>
    <p><strong><i class="fas fa-tools"></i> Skills:</strong> {{ vacancy.skills|linebreaks }}</p>
    <p><strong><i class="fas fa-check-circle"></i> Eligibility:</strong> {{ vacancy.eligibility|linebreaks }}</p>
    <p><strong><i class="fas fa-dollar-sign"></i> Salary Range:</strong> 
        {% if vacancy.min_salary and vacancy.max_salary %}
            {{ vacancy.min_salary }} - {{ vacancy.max_salary }}
        {% elif vacancy.min_salary %}
            {{ vacancy.min_salary }}+
        {% elif vacancy.max_salary %}
            Up to {{ vacancy.max_salary }}
        {% else %}
            Not specified
        {% endif %}
    </p>
    <p><strong><i class="fas fa-info-circle"></i> Status:</strong> {{ vacancy.get_status_display }}</p>
    <p><strong><i class="fas fa-link"></i> Shareable Link:</strong> 
        <a href="{{ vacancy.shareable_link }}" id="shareable-link">{{ vacancy.shareable_link }}</a>
        <button class="btn btn-sm btn-info" onclick="navigator.clipboard.writeText(document.getElementById('shareable-link').href).then(() => alert('Link copied to clipboard!'));"><i class="fas fa-copy"></i> Copy Link</button>
    </p>
    {% comment %} <a href="{% url 'vacancy_list' %}" class="btn btn-secondary"><i class="fas fa-arrow-left"></i> Back to Vacancies</a> {% endcomment %}
</div>
{% endblock %}